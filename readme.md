# Meeplit
让喜欢桌游DIY的你以最最简单的方式做出能玩的联机游戏

## idea
正常的通信模式是客户端请求服务器，然后服务器返回结果。
正常的联机棋牌实现联机基于逻辑同步，把操作更新到各个客户端。
二者一结合，游戏逻辑就被拆散了，导致简单的游戏涉及到联机实现起来也很复杂。
**但更合适的通信模式其实是反过来，服务器询问客户端，这回合玩家要做什么，客户端返回结果由服务器处理**
这样一来，一个main函数写完游戏逻辑不是问题。

## 实现
### 反向RPC
在这种模式下，浏览器端其实是rpc服务器。（不过这么叫太乱了，还是正常讲客户端服务器吧）
先简单糊一个json-rpc via socket.io。回头研究研究comlink和trpc能不能整成这种模式。
需要提供一个序列调用功能，一次网络请求按顺序调用多个方法。
### 客户端
这种通信模式下，客户端的逻辑就有点像后端服务了。
后端服务是收到请求后增删改查数据库，
我们的客户端是收到请求后修改state（比如Pinia）、询问玩家输入。还提供几个简单、通用的动画方法。
### 服务器
一个main函数控制游戏逻辑，调用前端的方法修改数值显示、播放动画等。
belike: `for(player of players) players.playCard()`

## 缺点
1. 使用固定的几个动画，画面会很简陋————**没事，只要玩家能看明白发生了什么就行**
2. 每次操作都要发回服务器、延迟大————**没事，网络延迟可以淹没在玩家的思考过程中。**
3. 总之，我们的目的是“能玩就行”