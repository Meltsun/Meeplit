# Meeplit
让喜欢桌游DIY的你以最最简单的方式做出能玩的联机游戏

## idea
正常的通信模式是客户端请求服务器，然后服务器返回结果。
正常的联机棋牌实现联机基于逻辑同步，把操作更新到各个客户端。
二者一结合，游戏逻辑就被拆散了，导致简单的游戏涉及到联机实现起来也很复杂。
**但更合适的通信模式其实是反过来，服务器询问客户端，这回合玩家要做什么，客户端返回结果由服务器处理**
这样一来，一个main函数写完游戏逻辑不是问题。

## 实现
### 反向RPC
在这种模式下，浏览器端其实是rpc服务器。（不过这么叫太乱了，还是正常讲客户端服务器吧）
最简单的方式是socket.io的ack，套一层proxy
回头再研究comlink和trpc
需要提供批量和序列调用功能，一次网络请求调用多个方法。
### 客户端
使用defineExpose暴露函数收集输入
### 服务器
一个main函数控制游戏逻辑，调用前端的方法修改数值显示、播放动画等。
belike: `for(player of players) players.playCard()`

## 缺点
1. 使用固定的几个动画，画面会很简陋————**没事，只要玩家能看明白发生了什么就行**
2. 每次操作都要发回服务器、延迟大————**没事，网络延迟可以淹没在玩家的思考过程中。**
3. 总之，我们的目的是“能玩就行”



